#!/bin/bash
# Bash shell script for restoring all backups

# Print ASCII art banner
echo -e "
+====-----------------=***********++**###*+*******###########**+-::.::-+**+++**+*+++==+++++*********
+====----------------=###********++*####**********#############*+-:------+*******+++++++=++******+=:
===-----------------=*##********+*#####***********##############*+-===---+*******+**********+==-::::
==------------------=+***+==++++****##***********###############**=:*++-:-+********#******=-::::::::
=---------------------------=-=*****#*************##############*+=::**+::-****##*****+-::::::::::::
=-------------------------------=**#*******#####################*+=::=*+-.:*******+=-:::::::::::::::
==------------------------------=*********###%%%%################*=:-:==...=+++=::::::::::::::::::::
==-------------------------------**********##%%%%%#%####%#####%##*-.:.::...--:::::::::::::::::::::::
+**+++++====--=------------------+*******####%%%%%%**#%%%%%%%%%##*-...-....:::::::::::::::::::::::::
+++++++++++++++++++==-----------=*****####*#%%%%@%#*##%%@@@%%%%#**+:..:..::::::::::::::::::::::::---
+++++++++++++++++++++++++++++===+******##***###%%#*#*###%@@@@%#+*##==:..::::::::::::::::::::---==+++
++++++++++++++++++++++++++++++++*#******#########***##*=%%%%%%%%#%%#=...::::::::::--------=+++++++++
==========+++++++++=====++++++++***********######***##*:%%%%%%%%%%#=-..::::::::::---=+++++++++++++++
===========++===========---=====+**********###%%#***###=:%%%%#%%##+:..==::-----==+*++++++++++++**#%%
==========####****##***++=======+#********###%%#*%#*##*-=#%%%%##*#:..-+===+++**++++++++++*#%%%%#+-:.
=========*####*######*#*******#**********###%%#########%%%%%%%##-....:+********+++**#%%%##%#........
=========+++++*####**#*****###***********#####*####%%#%%%%%%%###-....=*******##%%%%#+==---%#:.......
*+++++++=================+++++***+*******##*##*####%%#%%%%%%####=...-+*****%@#+==--------=%%=----:::
###**************+++==========-===*******#**#**####%%#%%%%%%%###=:..******+#%*:....:::---:##-:------
*****************************************###%##%%%%%%%%%%%%%%%##*-.-*****+-##=:......:-==+##--::=-==
######**********+++++++++****************###***#####%#%%%%%%%####-.=+****+:#*-:=+**+++==--=#:...====
****%%###%%%%%%#++++***+++++*+++++*******##****#######%%%%%%%#=+*:+******+:**:.-::.........#:...-=--
####@#*********+++++=+++++*#####%%%%#*********#####%%%%%%%%%%#++-+##*****+:**:.... ........#-:--*#%%
%%%%@%##########%#*********##****************#######%%%#*#*+**+=+%##*****+:**:...--+*#####*%%=-:-+==
###%@###########%##########%%#*#***************####%%#*#+*--===.#%##*******#%%##*=-++++++++*#...:+--
%%%%%%##########%##########%%#****************######%##%#==++=:.+%##******+*#%+=::.-=+++===**....=--
%%%%%@%####%%##%%%%%%%%%%%%@@%%%%%#*%********########%##+=+====.*:+#******+*##:=::.-===+===**:...=--
%##%@@%%%%%%%%##%#########%%%%*****%@******###########**++==+#-.#=.-+*****++#%-=--.:==++===**-...==-
%##%@@%%%%%%###%#*=---=-==##*#+++##%@*********#####%#*####*##+-+#=::-::=**++#%===-.--==++==**+:..---
@%#%%%#########%**--=+=--=*#**=+###%#***********###*=*%%%%%%**#%#-:=+==+=--=#%+===:====++++**#%#++--
*=.=*%##*=*###%%*+:--=:::-*****####%%#**********###+#%%%%%%%%%%%+--+*==+*****+-::=====---++**%%%+-=-
+--+#+**####%**%*+:.::-==*****#####%@%#****#######%%%%%%%%%%%%%%=-=*++***********++==---:-+####*:-=-
*+++%*#*####%#%#+=-=+********######%@@%#**######%%%%%%%%%%%%%%%#*+***#************+++++===+-+*:..:=-
#**+%##*#####%#*++****####**#######%@@@%########%%%%%%%%%%%%%%%##%%%%%#####*****#######**+=::--..:=-
*+#=%%##*###*++****################%%@@@%#*#####%#####%%%%%%%%%%%%%%%###*###***##########**=+=:.:.:.
"


# Print script name/status messages in blue
echo -e "\033[34m[i] Arthur Mitchell on Security\033[0m"
echo -e "\033[34m[i] Running...\033[0m"

echo "[i] Restoring directories from /.x84"

# Safety check
if [ ! -d "/.x84" ]; then
    echo "[!] /.x84 does not exist â€” aborting"
    exit 1
fi

# Restore directories
cp -rp /.x84/etc  /
cp -rp /.x84/home /
cp -rp /.x84/opt  /
cp -rp /.x84/root /
cp -rp /.x84/var  /

echo -e "\033[34m[i] Passwords have been reverted to initial state\033[0m"
echo "\033[34m[i] Restore completed\033[0m"